==================== Changes in man-pages-4.04 ====================

Released: 2015-12-29, Munich


Contributors
------------

The following people contributed patches/fixes or (noted in brackets
in the changelog below) reports, notes, and ideas that have been
incorporated in changes in this release:

Alexander Monakov <amonakov@ispras.ru>
Andries E. Brouwer <Andries.Brouwer@cwi.nl>
Archie Cobbs <archie.cobbs@gmail.com>
Carlos O'Donell <carlos@redhat.com>
Colin Rice <colin@daedrum.net>
Darren Hart <dvhart@infradead.org>
Davidlohr Bueso <dave@stgolabs.net>
Dmitry V. Levin <ldv@altlinux.org>
Eric B Munson <emunson@akamai.com>
Heinrich Schuchardt <xypron.glpk@gmx.de>
H.J. Lu <hjl.tools@gmail.com>
Jakub Wilk <jwilk@jwilk.net>
Jonathan Wakely <jwakely@redhat.com>
Jonny Grant <jg@jguk.org>
Laurent Georget <laurent.georget@supelec.fr>
Lennart Poettering <lennart@poettering.net>
Mathieu Desnoyers <mathieu.desnoyers@efficios.com>
Michael Kerrisk <mtk.manpages@gmail.com>
Michal Hocko <mhocko@suse.com>
Mike Frysinger <vapier@gentoo.org>
Pádraig Brady <P@draigBrady.com>
Paul Eggert <eggert@cs.ucla.edu>
Pavel Machek <pavel@ucw.cz>
Phil Blundell <pb@pbcl.net>
Richard Voigt <richardvoigt@gmail.com>
Rich Felker <dalias@libc.org>
Rusty Russell <rusty@rustcorp.com.au>
Thomas Gleixner <tglx@linutronix.de>
Tom Gundersen <teg@jklm.no>
Torvald Riegel <triegel@redhat.com>
Vincent Lefevre <vincent@vinc17.net>
Vlastimil Babka <vbabka@suse.cz>
Walter Harms <wharms@bfs.de>
Zack Weinberg <zackw@panix.com>


Apologies if I missed anyone!


New and rewritten pages
-----------------------

futex.2
    Michael Kerrisk, Thomas Gleixner, Torvald Riegel  [Davidlohr Bueso, Heinrich Schuchardt, Darren Hart, Rusty Russell, Pavel Machek, Rich Felker]
        Rewrite and massively expand page

membarrier.2
    Mathieu Desnoyers  [Michael Kerrisk]
        New page documenting membarrier() system call


Newly documented interfaces in existing pages
---------------------------------------------

mlock.2
    Eric B Munson  [Michal Hocko, Vlastimil Babka, Michael Kerrisk]
        Document mlock2(2) and MCL_ONFAULT


New and changed links
---------------------

mlock2.2
    Eric B Munson
        New link to mlock.2


Global changes
--------------

Various pages
    Michael Kerrisk
        ERRORS: standardize text for EMFILE error

Various pages
    Michael Kerrisk
        ERRORS: standardize error text for ENOTSOCK error

Various pages
    Michael Kerrisk
        ERRORS: standardize text for ENFILE error


Changes to individual pages
---------------------------

clock_getres.2
    Michael Kerrisk
        SEE ALSO: add vdso(7)

epoll_create.2
    Michael Kerrisk
        ERRORS: add another EMFILE error case

fanotify_init.2
    Michael Kerrisk
        ERRORS: add an EMFILE error case

fork.2
    Michael Kerrisk
        Child of MT-process is restricted to async-signal-safe functions

getcpu.2
    Michael Kerrisk
        SEE ALSO: add vdso(7)

getrlimit.2
    Michael Kerrisk  [Lennart Poettering]
        The init of measurement for RLIMIT_RSS is bytes, not pages

get_robust_list.2
    Michael Kerrisk
        Reword EINVAL error text

gettimeofday.2
    Carlos O'Donell
        Expand on the historical meaning of tz_dsttime
    Michael Kerrisk
        SEE ALSO: add vdso(7)

inotify_init.2
    Michael Kerrisk
        ERRORS: add an EMFILE error case

personality.2
    Dmitry V. Levin
        Note kernel and glibc versions that introduced this system call

poll.2
    Richard Voigt
        timeout_ts is a pointer, so use -> not . for member access
    Michael Kerrisk
        Shorten name of timeout argument for ppoll()
            The name is overly long, and does not hint at the fact
            that this argument is a pointer. Fix this by renaming:
            s/timeout_ts/tmo_p/

sendfile.2
    Laurent Georget
        Document more ERRORS

sigreturn.2
    Michael Kerrisk
        SEE ALSO: add vdso(7)

socketcall.2
    Michael Kerrisk
        Since Linux 4.3, x86-32 provides direct system calls for the sockets API

time.2
    Zack Weinberg
        Explain why the glibc time() wrapper never sets 'errno'
    Michael Kerrisk  [H.J. Lu]
        Where time() is provided by vDSO, an invalid address may give SIGSEGV
    Michael Kerrisk  [Paul Eggert]
        Describe EOVERFLOW details
    Michael Kerrisk
        SEE ALSO: add vdso(7)
    Michael Kerrisk
        Rename 't' argument to 'tloc'

dlerror.3
    Michael Kerrisk  [Jonny Grant]
        Clarify that the string returned by dlerror() is null terminated

dlopen.3
    Michael Kerrisk
        Include a shell session showing build/run in EXAMPLE
    Michael Kerrisk
        Change arguments to main() to "void" in EXAMPLE

drand48.3
    Michael Kerrisk  [Vincent Lefevre]
        Correct descriptions of ranges returned by these functions
            See http://bugs.debian.org/803459

errno.3
    Michael Kerrisk
        Note probable cause of ENFILE error

fnmatch.3
    Pádraig Brady
        Describe the FNM_EXTMATCH flag and pattern syntax

iconv.3
    Andries E. Brouwer
        NOTES: describe correct usage for flushing partially buffered input

random_r.3
    Michael Kerrisk  [Archie Cobbs]
        Clarify need to use initstate_r()

tzset.3
    Carlos O'Donell
        Clarify "daylight" and remove erroneous note

random.4
    Michael Kerrisk  [Tom Gundersen]
        Rework example scripts to assume 'poolsize' unit is bits, not bytes
    Michael Kerrisk  [Walter Harms]
        Use modern command substitution syntax in shell session log

proc.5
    Michael Kerrisk
        Reaching /proc/sys/fs/file-max limit normally produces an ENFILE error

futex.7
    Heinrich Schuchardt
        SEE ALSO updates
    Michael Kerrisk
        Note some other locking primitives that are built with futexes
    Heinrich Schuchardt
        NPTL, avoid abbreviation
    Michael Kerrisk
        Note that a futex is 4 bytes on all platforms

vdso.7
    Michael Kerrisk
        Add note on strace(1) and vDSO

ld.so.8
    H.J. Lu [Michael Kerrisk]
        Document LD_PREFER_MAP_32BIT_EXEC
    Michael Kerrisk
        Clarify setting of LD_BIND_NOT
    Michael Kerrisk
        Clarify setting of LD_DYNAMIC_WEAK
    Michael Kerrisk
        Clarify setting of LD_TRACE_PRELINKING
    Michael Kerrisk
        Clarify some details for LD_SHOW_AUXV
